# 检测linux的磁盘命令

- df

    检查文件系统的磁盘占用情况

    -选项

        -a 显示所有文件系统的磁盘使用情况，包括0块（block）的文件系统，如/proc文件系统。
        -k 以k字节为单位显示。
        -h 以可读性较好的方式显示。
        -T 显示文件系统类型。
- du

    du (disk usage)命令

    –功能：统计目录（或文件）所占磁盘空间的大小

    –说明：该命令逐级进入指定目录的每一个子目录并显示该目录占用文件系统数据块（1024字节）的情况。若没有给出Names，则对当前目录进行统计。

    –选项：

        -s 对每个Names参数只给出占用的数据块总数
        -a 递归地显示指定目录中各文件及子孙目录中各文件占用的数据块数。若既不指定-s，也不指定-a，则只显示Names中的每一个目录及其中的各子目录所占的磁盘块数。
        -b 以字节为单位列出磁盘空间使用情况（系统缺省以k字节为单位）。
        -k 以1024字节为单位列出磁盘空间使用情况。
        -c 最后再加上一个总计（系统缺省设置）。
        -l 计算所有的文件大小，对硬链接文件，则计算多次


- 区别

    df 和 du命令比较：

    df命令用来查看磁盘的使用情况。常用df -ah   或者  df -h;可以查看一级文件夹大小、使用比例、档案系统及其挂入点，但对文件却无能为力

    du可以查看文件及文件夹的大小,统计文件大小相加。du命令用来查询档案或目录的磁盘使用空间
        
    常用：du -sh 目录    或者   du -h 目录

- 常用

    ```sh
    df -ah
    du -a
    # 文件大小排序
    du /etc | sort -nr | more 
    # 查看文件夹大小
    du -h --max-depth=1 
    #sort顾名思义是排序的。具体就不说了，这两个是比较简单的命令。
    du -h --max-depth=1
    du -hm --max-depth=2 | sort -n
    du -hm --max-depth=2 | sort -nr | head -12
    ```

- 磁盘加载

    - mount (挂载)

    - umount(卸载)

- 分区

    - fdisk

    fdisk命令 用于观察硬盘实体使用情况，也可对硬盘分区。

### 新磁盘挂载

1.使用fdisk -l 查看硬盘的详细信息

2.分区初始化
fdisk /dev/sdb
分析：各个参数的解析
1. 输入 m 显示所有命令列示。
2. 输入 p 显示硬盘分割情形，打印分区表。
3. 输入 a 设定硬盘启动区。
4. 输入 n 设定新的硬盘分割区。
    4.1. 输入 e 硬盘为[延伸]分割区(extend)。
    4.2. 输入 p 硬盘为[主要]分割区(primary)。
5. 输入 t 改变硬盘分割区属性。　　　　　　　　　　
    
    t:分区系统id号
        L:82:linux swap
        83:linux
        86：NTFS window分区
6. 输入 d 删除硬盘分割区属性。
7. 输入 q 结束不存入硬盘分割区属性。
8. 输入 w 结束并写入硬盘分割区属性
